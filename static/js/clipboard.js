class g{withFields(e){let n=Object.keys(this).map(i=>i in e?e[i]:this[i]);return new this.constructor(...n)}}class gt{static fromArray(e,n){let i=n||new y;for(let r=e.length-1;r>=0;--r)i=new Oe(e[r],i);return i}[Symbol.iterator](){return new Zn(this)}toArray(){return[...this]}atLeastLength(e){let n=this;for(;e-- >0&&n;)n=n.tail;return n!==void 0}hasLength(e){let n=this;for(;e-- >0&&n;)n=n.tail;return e===-1&&n instanceof y}countLength(){let e=this,n=0;for(;e;)e=e.tail,n++;return n-1}}function d(t,e){return new Oe(t,e)}function S(t,e){return gt.fromArray(t,e)}class Zn{#e;constructor(e){this.#e=e}next(){if(this.#e instanceof y)return{done:!0};{let{head:e,tail:n}=this.#e;return this.#e=n,{value:e,done:!1}}}}class y extends gt{}class Oe extends gt{constructor(e,n){super(),this.head=e,this.tail=n}}class Je extends g{static isResult(e){return e instanceof Je}}class B extends Je{constructor(e){super(),this[0]=e}isOk(){return!0}}let G=class extends Je{constructor(e){super(),this[0]=e}isOk(){return!1}};function $n(t,e,n,i,r,s,a){let u=new globalThis.Error(s);u.gleam_error=t,u.file=e,u.module=n,u.line=i,u.function=r,u.fn=r;for(let c in a)u[c]=a[c];return u}function ei(t,e,n){return t.reduceRight(n,e)}function ti(t){return ei(t,S([]),(e,n)=>d(n,e))}class Pe extends g{constructor(e){super(),this[0]=e}}class Re extends g{}function xt(t,e){return t instanceof Pe?t[0]:e}class Z extends g{}class $ extends g{}class ni extends g{}function ii(t,e){for(;;){let n=t,i=e;if(n instanceof y)return i;{let r=n.head;t=n.tail,e=i+r}}}function ri(t){return ii(t,"")}class rn extends g{constructor(e){super(),this.function=e}}function si(t,e){let n=e.function(t),i,r;return i=n[0],r=n[1],r instanceof y?new B(i):new G(r)}function yt(t){return new rn(e=>[t,S([])])}function sn(t,e){return new rn(n=>{let i=t.function(n),r,s;return r=i[0],s=i[1],[e(r),s]})}function Ie(t){return t.toString()}function ai(t,e){return t.startsWith(e)}class Y extends g{}class Fe extends g{}function He(t,e){for(;;){let n=t,i=e;if(n instanceof y)return i;{let r=n.head;t=n.tail,e=d(r,i)}}}function p(t){return He(t,S([]))}function ui(t,e,n){for(;;){let i=t,r=e,s=n;if(i instanceof y)return p(s);{let a=i.head,u=i.tail,c;r(a)?c=d(a,s):c=s;let f=c;t=u,e=r,n=f}}}function ci(t,e){return ui(t,e,S([]))}function li(t,e,n){for(;;){let i=t,r=e,s=n;if(i instanceof y)return p(s);{let a=i.head;t=i.tail,e=r,n=d(r(a),s)}}}function ot(t,e){return li(t,e,S([]))}function fi(t,e,n,i){for(;;){let r=t,s=e,a=n,u=i;if(r instanceof y)return p(u);{let c=r.head,l=r.tail,f=d(s(c,a),u);t=l,e=s,n=a+1,i=f}}}function hi(t,e){return fi(t,e,0,S([]))}function di(t,e){for(;;){let n=t,i=e;if(n instanceof y)return i;{let r=n.head;t=n.tail,e=d(r,i)}}}function _i(t,e){return di(p(t),e)}function at(t,e){return d(e,t)}function he(t,e,n){for(;;){let i=t,r=e,s=n;if(i instanceof y)return r;{let a=i.head;t=i.tail,e=s(r,a),n=s}}}function ut(t,e){for(;;){let n=t,i=e;if(n instanceof y)return new G(void 0);{let r=n.head,s=n.tail;if(i(r))return new B(r);t=s,e=i}}}function wi(t,e,n,i,r,s){for(;;){let a=t,u=e,c=n,l=i,f=r,w=s,m=d(f,c);if(a instanceof y)return l instanceof Y?d(p(m),w):d(m,w);{let x=a.head,b=a.tail,T=u(f,x);if(l instanceof Y)if(T instanceof Z)t=b,e=u,n=m,i=l,r=x,s=w;else if(T instanceof $)t=b,e=u,n=m,i=l,r=x,s=w;else{let _;l instanceof Y?_=d(p(m),w):_=d(m,w);let A=_;if(b instanceof y)return d(S([x]),A);{let k=b.head,v=b.tail,C,h=u(x,k);h instanceof Z?C=new Y:h instanceof $?C=new Y:C=new Fe;let o=C;t=v,e=u,n=S([x]),i=o,r=k,s=A}}else if(T instanceof Z){let _;l instanceof Y?_=d(p(m),w):_=d(m,w);let A=_;if(b instanceof y)return d(S([x]),A);{let k=b.head,v=b.tail,C,h=u(x,k);h instanceof Z?C=new Y:h instanceof $?C=new Y:C=new Fe;let o=C;t=v,e=u,n=S([x]),i=o,r=k,s=A}}else if(T instanceof $){let _;l instanceof Y?_=d(p(m),w):_=d(m,w);let A=_;if(b instanceof y)return d(S([x]),A);{let k=b.head,v=b.tail,C,h=u(x,k);h instanceof Z?C=new Y:h instanceof $?C=new Y:C=new Fe;let o=C;t=v,e=u,n=S([x]),i=o,r=k,s=A}}else t=b,e=u,n=m,i=l,r=x,s=w}}}function mi(t,e,n,i){for(;;){let r=t,s=e,a=n,u=i;if(r instanceof y)return He(s,u);if(s instanceof y)return He(r,u);{let c=r.head,l=r.tail,f=s.head,w=s.tail,m=a(c,f);m instanceof Z?(t=l,e=s,n=a,i=d(c,u)):(m instanceof $,t=r,e=w,n=a,i=d(f,u))}}}function bi(t,e,n){for(;;){let i=t,r=e,s=n;if(i instanceof y)return p(s);{let a=i.tail;if(a instanceof y){let u=i.head;return p(d(p(u),s))}else{let u=i.head,c=a.head,l=a.tail,f=mi(u,c,r,S([]));t=l,e=r,n=d(f,s)}}}}function ki(t,e,n,i){for(;;){let r=t,s=e,a=n,u=i;if(r instanceof y)return He(s,u);if(s instanceof y)return He(r,u);{let c=r.head,l=r.tail,f=s.head,w=s.tail,m=a(c,f);m instanceof Z?(t=r,e=w,n=a,i=d(f,u)):(m instanceof $,t=l,e=s,n=a,i=d(c,u))}}}function gi(t,e,n){for(;;){let i=t,r=e,s=n;if(i instanceof y)return p(s);{let a=i.tail;if(a instanceof y){let u=i.head;return p(d(p(u),s))}else{let u=i.head,c=a.head,l=a.tail,f=ki(u,c,r,S([]));t=l,e=r,n=d(f,s)}}}}function xi(t,e,n){for(;;){let i=t,r=e,s=n;if(i instanceof y)return i;if(r instanceof Y){if(i.tail instanceof y)return i.head;t=bi(i,s,S([])),e=new Fe,n=s}else if(i.tail instanceof y){let u=i.head;return p(u)}else t=gi(i,s,S([])),e=new Y,n=s}}function yi(t,e){if(t instanceof y)return t;{let n=t.tail;if(n instanceof y)return t;{let i=t.head,r=n.head,s=n.tail,a,u=e(i,r);u instanceof Z?a=new Y:u instanceof $?a=new Y:a=new Fe;let c=a,l=wi(s,e,S([i]),c,r,S([]));return xi(l,new Y,e)}}}function oi(t,e){if(t instanceof B){let n=t[0];return new B(e(n))}else return t}function vi(t,e){if(t instanceof B)return t;{let n=t[0];return new G(e(n))}}function ye(t,e){if(t instanceof B){let n=t[0];return e(n)}else return t}function Ei(t,e){return t instanceof B?t[0]:e}function Ti(t,e){return t instanceof B?t:new G(e)}function Ai(t,e,n){return t?e:n()}function vt(t,e,n){return t?e():n()}function Si(t,e){return[t,e]}function ue(t){return t}function Ci(t,e){return e(t),t}const we=()=>globalThis?.document,an="http://www.w3.org/1999/xhtml",Et=1,un=3,Ni=!!globalThis.HTMLElement?.prototype?.moveBefore,M=S([]),ct=new Re,Li=new ni,qi=new Z,Di=new $;function cn(t,e){return t.name===e.name?Di:t.name<e.name?qi:Li}class fe extends g{constructor(e,n,i){super(),this.kind=e,this.name=n,this.value=i}}class Ot extends g{constructor(e,n,i){super(),this.kind=e,this.name=n,this.value=i}}let X=class extends g{constructor(e,n,i,r,s,a,u,c,l){super(),this.kind=e,this.name=n,this.handler=i,this.include=r,this.prevent_default=s,this.stop_propagation=a,this.immediate=u,this.debounce=c,this.throttle=l}};class ln extends g{constructor(e,n,i){super(),this.prevent_default=e,this.stop_propagation=n,this.message=i}}class Mi extends g{constructor(e){super(),this.kind=e}}function Oi(t,e){for(;;){let n=t,i=e;if(n instanceof y)return i;{let r=n.head;if(r instanceof fe){let s=r.name;if(s==="")t=n.tail,e=i;else if(s==="class"){let a=r.value;if(a==="")t=n.tail,e=i;else{let u=n.tail;if(u instanceof y){let c=r;t=u,e=d(c,i)}else{let c=u.head;if(c instanceof fe)if(c.name==="class"){let f=r.kind,w=a,m=u.tail,x=c.value,b=w+" "+x,T=new fe(f,"class",b);t=d(T,m),e=i}else{let f=r;t=u,e=d(f,i)}else{let l=r;t=u,e=d(l,i)}}}}else if(s==="style"){let a=r.value;if(a==="")t=n.tail,e=i;else{let u=n.tail;if(u instanceof y){let c=r;t=u,e=d(c,i)}else{let c=u.head;if(c instanceof fe)if(c.name==="style"){let f=r.kind,w=a,m=u.tail,x=c.value,b=w+";"+x,T=new fe(f,"style",b);t=d(T,m),e=i}else{let f=r;t=u,e=d(f,i)}else{let l=r;t=u,e=d(l,i)}}}}else{let a=r;t=n.tail,e=d(a,i)}}else{let s=r;t=n.tail,e=d(s,i)}}}}function Ri(t){if(t instanceof y)return t;if(t.tail instanceof y)return t;{let i=yi(t,(r,s)=>cn(s,r));return Oi(i,M)}}const fn=0;function Ii(t,e){return new fe(fn,t,e)}const Fi=1,hn=2;function Hi(t,e,n,i,r,s,a,u){return new X(hn,t,e,n,i,r,s,a,u)}const dn=0,Rt=new Mi(dn),It=2;function Ze(t,e){return Ii(t,e)}function ee(t){return Ze("class",t)}function Bi(){return ee("")}function _n(t,e){for(;;){let n=t,i=e;if(n instanceof y)return i;if(n.head[1]){let s=n.tail,a=n.head[0];return i+a+" "+_n(s,i)}else t=n.tail,e=i}}function Ui(t){return ee(_n(t,""))}function oe(t,e){return t===""||e===""?ee(""):Ze("style",t+":"+e+";")}class Tt extends g{constructor(e,n,i){super(),this.synchronous=e,this.before_paint=n,this.after_paint=i}}const Ge=new Tt(S([]),S([]),S([]));function J(){return Ge}function $e(t){let e=n=>{let i=n.dispatch;return t(i)};return new Tt(S([e]),Ge.before_paint,Ge.after_paint)}function Ft(t){return he(t,Ge,(e,n)=>new Tt(he(n.synchronous,e.synchronous,at),he(n.before_paint,e.before_paint,at),he(n.after_paint,e.after_paint,at)))}function de(){return null}function wn(t,e){const n=t?.get(e);return n!=null?new B(n):new G(void 0)}function lt(t,e){return t&&t.has(e)}function At(t,e,n){return t??=new Map,t.set(e,n),t}function Pi(t,e){return t?.delete(e),t}class mn extends g{}class bn extends g{constructor(e,n){super(),this.key=e,this.parent=n}}class ji extends g{constructor(e,n){super(),this.index=e,this.parent=n}}function Wi(t,e){for(;;){let n=t,i=e;if(i instanceof y)return!1;{let r=i.head,s=i.tail,a=ai(n,r);if(a)return a;t=n,e=s}}}function ae(t,e,n){return n===""?new ji(e,t):new bn(n,t)}const Vi=new mn,Ke="	";function kn(t,e){for(;;){let n=t,i=e;if(n instanceof mn){if(i instanceof y)return"";{let r=i.tail;return ri(r)}}else if(n instanceof bn){let r=n.key;t=n.parent,e=d(Ke,d(r,i))}else{let r=n.index;t=n.parent,e=d(Ke,d(Ie(r),i))}}}function zi(t){return kn(t,S([]))}function Yi(t,e){return e instanceof y?!1:Wi(zi(t),e)}const gn=`
`;function xn(t,e){return kn(t,S([gn,e]))}class ve extends g{constructor(e,n,i,r,s){super(),this.kind=e,this.key=n,this.mapper=i,this.children=r,this.keyed_children=s}}class Ee extends g{constructor(e,n,i,r,s,a,u,c,l,f){super(),this.kind=e,this.key=n,this.mapper=i,this.namespace=r,this.tag=s,this.attributes=a,this.children=u,this.keyed_children=c,this.self_closing=l,this.void=f}}class Te extends g{constructor(e,n,i,r){super(),this.kind=e,this.key=n,this.mapper=i,this.content=r}}class yn extends g{constructor(e,n,i,r,s,a,u){super(),this.kind=e,this.key=n,this.mapper=i,this.namespace=r,this.tag=s,this.attributes=a,this.inner_html=u}}function pi(t,e){return e===""?t==="area"||t==="base"||t==="br"||t==="col"||t==="embed"||t==="hr"||t==="img"||t==="input"||t==="link"||t==="meta"||t==="param"||t==="source"||t==="track"?!0:t==="wbr":!1}function Gi(t,e){return e instanceof ve?new ve(e.kind,t,e.mapper,e.children,e.keyed_children):e instanceof Ee?new Ee(e.kind,t,e.mapper,e.namespace,e.tag,e.attributes,e.children,e.keyed_children,e.self_closing,e.void):e instanceof Te?new Te(e.kind,t,e.mapper,e.content):new yn(e.kind,t,e.mapper,e.namespace,e.tag,e.attributes,e.inner_html)}const ie=0;function Ki(t,e,n,i){return new ve(ie,t,e,n,i)}const Be=1;function St(t,e,n,i,r,s,a,u,c){return new Ee(Be,t,e,n,i,Ri(r),s,a,u,pi(i,n))}const et=2;function on(t,e,n){return new Te(et,t,e,n)}const Qi=3,Ht=(t,e)=>t===e,qe=(t,e)=>{if(t===e)return!0;if(t==null||e==null)return!1;const n=typeof t;return n!==typeof e||n!=="object"||t.constructor!==e.constructor?!1:Array.isArray(t)?Xi(t,e):Ji(t,e)},Xi=(t,e)=>{let n=t.length;if(n!==e.length)return!1;for(;n--;)if(!qe(t[n],e[n]))return!1;return!0},Ji=(t,e)=>{const n=Object.keys(t);let i=n.length;if(Object.keys(e).length!==i)return!1;for(;i--;){const r=n[i];if(!Object.hasOwn(e,r)||!qe(t[r],e[r]))return!1}return!0};class me extends g{constructor(e,n,i){super(),this.handlers=e,this.dispatched_paths=n,this.next_dispatched_paths=i}}function Zi(){return new me(de(),M,M)}function $i(t){return new me(t.handlers,t.next_dispatched_paths,M)}function vn(t,e,n){return Pi(t,xn(e,n))}function Ve(t,e,n){let i=vn(t.handlers,e,n);return new me(i,t.dispatched_paths,t.next_dispatched_paths)}function Bt(t,e,n){return he(n,t,(i,r)=>{if(r instanceof X){let s=r.name;return vn(i,e,s)}else return i})}function er(t,e,n,i){let r=d(e,t.next_dispatched_paths),s=new me(t.handlers,t.dispatched_paths,r),a=wn(s.handlers,e+gn+n);if(a instanceof B){let u=a[0];return[s,si(i,u)]}else return[s,new G(S([]))]}function ft(t,e){return Yi(e,t.dispatched_paths)}function En(t,e,n,i,r){return At(t,xn(n,i),sn(r,s=>new ln(s.prevent_default,s.stop_propagation,e(s.message))))}function ze(t,e,n,i,r){let s=En(t.handlers,e,n,i,r);return new me(s,t.dispatched_paths,t.next_dispatched_paths)}function Ut(t,e,n,i){return he(i,t,(r,s)=>{if(s instanceof X){let a=s.name,u=s.handler;return En(r,e,n,a,u)}else return r})}function Me(t,e){let n=Ht(t,ue);return Ht(e,ue)?t:n?e:r=>t(e(r))}function Pt(t,e,n,i){for(;;){let r=t,s=e,a=n,u=i;if(u instanceof y)return r;{let c=u.head,l=u.tail;t=Tn(r,s,a,c),e=s,n=a+1,i=l}}}function Tn(t,e,n,i){if(i instanceof ve){let r=i.children,s=ae(e,n,i.key);return Pt(t,s,0,r)}else if(i instanceof Ee){let r=i.attributes,s=i.children,a=ae(e,n,i.key),c=Bt(t,a,r);return Pt(c,a,0,s)}else{if(i instanceof Te)return t;{let r=i.attributes,s=ae(e,n,i.key);return Bt(t,s,r)}}}function le(t,e,n,i){let r=Tn(t.handlers,e,n,i);return new me(r,t.dispatched_paths,t.next_dispatched_paths)}function _t(t,e,n,i,r){for(;;){let s=t,a=e,u=n,c=i,l=r;if(l instanceof y)return s;{let f=l.head,w=l.tail;t=An(s,a,u,c,f),e=a,n=u,i=c+1,r=w}}}function An(t,e,n,i,r){if(r instanceof ve){let s=r.children,a=ae(n,i,r.key),u=Me(e,r.mapper);return _t(t,u,a,0,s)}else if(r instanceof Ee){let s=r.attributes,a=r.children,u=ae(n,i,r.key),c=Me(e,r.mapper),f=Ut(t,c,u,s);return _t(f,c,u,0,a)}else{if(r instanceof Te)return t;{let s=r.attributes,a=ae(n,i,r.key),u=Me(e,r.mapper);return Ut(t,u,a,s)}}}function ge(t,e,n,i,r){let s=An(t.handlers,e,n,i,r);return new me(s,t.dispatched_paths,t.next_dispatched_paths)}function tr(t,e,n,i,r){let s=_t(t.handlers,e,n,i,r);return new me(s,t.dispatched_paths,t.next_dispatched_paths)}function nr(t,e,n){return St("",ue,"",t,e,n,de(),!1)}function Sn(t){return on("",ue,t)}function Cn(){return on("",ue,"")}function ir(t){return Sn(t)}function tt(t,e){return nr("div",t,e)}class wt extends g{constructor(e,n,i,r){super(),this.index=e,this.removed=n,this.changes=i,this.children=r}}class rr extends g{constructor(e,n){super(),this.kind=e,this.content=n}}class sr extends g{constructor(e,n){super(),this.kind=e,this.inner_html=n}}class ar extends g{constructor(e,n,i){super(),this.kind=e,this.added=n,this.removed=i}}class ur extends g{constructor(e,n,i){super(),this.kind=e,this.key=n,this.before=i}}class cr extends g{constructor(e,n,i){super(),this.kind=e,this.index=n,this.with=i}}class lr extends g{constructor(e,n){super(),this.kind=e,this.index=n}}class fr extends g{constructor(e,n,i){super(),this.kind=e,this.children=n,this.before=i}}function jt(t,e,n,i){return new wt(t,e,n,i)}const Nn=0;function hr(t){return new rr(Nn,t)}const Ln=1;function dr(t){return new sr(Ln,t)}const qn=2;function Wt(t,e){return new ar(qn,t,e)}const Dn=3;function _r(t,e){return new ur(Dn,t,e)}const Mn=4;function wr(t){return new lr(Mn,t)}const On=5;function Ne(t,e){return new cr(On,t,e)}const Rn=6;function Vt(t,e){return new fr(Rn,t,e)}class zt extends g{constructor(e,n){super(),this.patch=e,this.events=n}}class mr extends g{constructor(e,n,i){super(),this.added=e,this.removed=n,this.events=i}}function br(t,e,n,i){return n==="input"&&e===""||n==="select"&&e===""||n==="textarea"&&e===""?ft(t,i):!1}function Yt(t,e,n,i,r,s,a,u){for(;;){let c=t,l=e,f=n,w=i,m=r,x=s,b=a,T=u;if(x instanceof y){if(m instanceof y)return new mr(b,T,w);{let _=m.head;if(_ instanceof X){let A=_,k=m.tail,v=_.name,C=d(A,T),h=Ve(w,l,v);t=c,e=l,n=f,i=h,r=k,s=x,a=b,u=C}else{let A=_,k=m.tail,v=d(A,T);t=c,e=l,n=f,i=w,r=k,s=x,a=b,u=v}}}else if(m instanceof y){let _=x.head;if(_ instanceof X){let A=_,k=x.tail,v=_.name,C=_.handler,h=d(A,b),o=ze(w,f,l,v,C);t=c,e=l,n=f,i=o,r=m,s=k,a=h,u=T}else{let A=_,k=x.tail,v=d(A,b);t=c,e=l,n=f,i=w,r=m,s=k,a=v,u=T}}else{let _=x.head,A=x.tail,k=m.head,v=m.tail,C=cn(k,_);if(C instanceof Z)if(k instanceof X){let h=k.name,o=d(k,T),E=Ve(w,l,h);t=c,e=l,n=f,i=E,r=v,s=x,a=b,u=o}else{let h=d(k,T);t=c,e=l,n=f,i=w,r=v,s=x,a=b,u=h}else if(C instanceof $)if(_ instanceof fe)if(k instanceof fe){let h,o=_.name;o==="value"||o==="checked"||o==="selected"?h=c||k.value!==_.value:h=k.value!==_.value;let E=h,L;E?L=d(_,b):L=b;let q=L;t=c,e=l,n=f,i=w,r=v,s=A,a=q,u=T}else if(k instanceof X){let h=k.name,o=d(_,b),E=d(k,T),L=Ve(w,l,h);t=c,e=l,n=f,i=L,r=v,s=A,a=o,u=E}else{let h=d(_,b),o=d(k,T);t=c,e=l,n=f,i=w,r=v,s=A,a=h,u=o}else if(_ instanceof Ot)if(k instanceof Ot){let h,o=_.name;o==="scrollLeft"||o==="scrollRight"?h=!0:o==="value"||o==="checked"||o==="selected"?h=c||!qe(k.value,_.value):h=!qe(k.value,_.value);let E=h,L;E?L=d(_,b):L=b;let q=L;t=c,e=l,n=f,i=w,r=v,s=A,a=q,u=T}else if(k instanceof X){let h=k.name,o=d(_,b),E=d(k,T),L=Ve(w,l,h);t=c,e=l,n=f,i=L,r=v,s=A,a=o,u=E}else{let h=d(_,b),o=d(k,T);t=c,e=l,n=f,i=w,r=v,s=A,a=h,u=o}else if(k instanceof X){let h=_.name,o=_.handler,E=k.prevent_default.kind!==_.prevent_default.kind||k.stop_propagation.kind!==_.stop_propagation.kind||k.immediate!==_.immediate||k.debounce!==_.debounce||k.throttle!==_.throttle,L;E?L=d(_,b):L=b;let q=L,R=ze(w,f,l,h,o);t=c,e=l,n=f,i=R,r=v,s=A,a=q,u=T}else{let h=_.name,o=_.handler,E=d(_,b),L=d(k,T),q=ze(w,f,l,h,o);t=c,e=l,n=f,i=q,r=v,s=A,a=E,u=L}else if(_ instanceof X){let h=_.name,o=_.handler,E=d(_,b),L=ze(w,f,l,h,o);t=c,e=l,n=f,i=L,r=m,s=A,a=E,u=T}else{let h=d(_,b);t=c,e=l,n=f,i=w,r=m,s=A,a=h,u=T}}}}function mt(t,e,n,i,r,s,a,u,c,l,f,w,m,x){for(;;){let b=t,T=e,_=n,A=i,k=r,v=s,C=a,h=u,o=c,E=l,L=f,q=w,R=m,z=x;if(_ instanceof y){if(b instanceof y)return new zt(new wt(o,C,L,q),z);{let K=b.head,te=b.tail,j;K.key===""||!lt(k,K.key)?j=C+1:j=C;let N=j,U=le(z,E,h,K);t=te,e=T,n=_,i=A,r=k,s=v,a=N,u=h,c=o,l=E,f=L,w=q,m=R,x=U}}else if(b instanceof y){let K=tr(z,R,E,h,_),te=Vt(_,h-v),j=d(te,L);return new zt(new wt(o,C,j,q),K)}else{let K=_.head,te=b.head;if(te.key!==K.key){let j=_.tail,P=b.tail,N=wn(T,K.key),U=lt(A,te.key);if(N instanceof B)if(U){let O=N[0];if(lt(k,te.key))t=P,e=T,n=_,i=A,r=k,s=v-1,a=C,u=h,c=o,l=E,f=L,w=q,m=R,x=z;else{let H=h-v,D=d(_r(K.key,H),L),W=At(k,K.key,void 0),F=v+1;t=d(O,b),e=T,n=_,i=A,r=W,s=F,a=C,u=h,c=o,l=E,f=D,w=q,m=R,x=z}}else{let O=h-v,I=d(wr(O),L),H=le(z,E,h,te),D=v-1;t=P,e=T,n=_,i=A,r=k,s=D,a=C,u=h,c=o,l=E,f=I,w=q,m=R,x=H}else if(U){let O=h-v,I=ge(z,R,E,h,K),H=Vt(S([K]),O),D=d(H,L);t=b,e=T,n=j,i=A,r=k,s=v+1,a=C,u=h+1,c=o,l=E,f=D,w=q,m=R,x=I}else{let O=Ne(h-v,K),I,D=le(z,E,h,te);I=ge(D,R,E,h,K);let W=I;t=P,e=T,n=j,i=A,r=k,s=v,a=C,u=h+1,c=o,l=E,f=d(O,L),w=q,m=R,x=W}}else{let j=b.head;if(j instanceof ve){let P=_.head;if(P instanceof ve){let N=P,U=_.tail,O=j,I=b.tail,H=Me(R,N.mapper),D=ae(E,h,N.key),W=mt(O.children,O.keyed_children,N.children,N.keyed_children,de(),0,0,0,h,D,M,M,H,z),F,V=W.patch;V.children instanceof y&&V.changes instanceof y&&V.removed===0?F=q:F=d(W.patch,q);let Q=F;t=I,e=T,n=U,i=A,r=k,s=v,a=C,u=h+1,c=o,l=E,f=L,w=Q,m=R,x=W.events}else{let N=P,U=_.tail,O=j,I=b.tail,H=Ne(h-v,N),D,F=le(z,E,h,O);D=ge(F,R,E,h,N);let V=D;t=I,e=T,n=U,i=A,r=k,s=v,a=C,u=h+1,c=o,l=E,f=d(H,L),w=q,m=R,x=V}}else if(j instanceof Ee){let P=_.head;if(P instanceof Ee){let N=P,U=j;if(U.namespace===N.namespace&&U.tag===N.tag){let O=_.tail,I=b.tail,H=Me(R,N.mapper),D=ae(E,h,N.key),W=br(z,N.namespace,N.tag,D),F=Yt(W,D,H,z,U.attributes,N.attributes,M,M),V,ne,Q;V=F.added,ne=F.removed,Q=F.events;let be;ne instanceof y&&V instanceof y?be=M:be=S([Wt(V,ne)]);let Se=be,Ce=mt(U.children,U.keyed_children,N.children,N.keyed_children,de(),0,0,0,h,D,Se,M,H,Q),ce,ke=Ce.patch;ke.children instanceof y&&ke.changes instanceof y&&ke.removed===0?ce=q:ce=d(Ce.patch,q);let Jn=ce;t=I,e=T,n=O,i=A,r=k,s=v,a=C,u=h+1,c=o,l=E,f=L,w=Jn,m=R,x=Ce.events}else{let O=P,I=_.tail,H=j,D=b.tail,W=Ne(h-v,O),F,ne=le(z,E,h,H);F=ge(ne,R,E,h,O);let Q=F;t=D,e=T,n=I,i=A,r=k,s=v,a=C,u=h+1,c=o,l=E,f=d(W,L),w=q,m=R,x=Q}}else{let N=P,U=_.tail,O=j,I=b.tail,H=Ne(h-v,N),D,F=le(z,E,h,O);D=ge(F,R,E,h,N);let V=D;t=I,e=T,n=U,i=A,r=k,s=v,a=C,u=h+1,c=o,l=E,f=d(H,L),w=q,m=R,x=V}}else if(j instanceof Te){let P=_.head;if(P instanceof Te){let N=P;if(j.content===N.content){let O=_.tail;t=b.tail,e=T,n=O,i=A,r=k,s=v,a=C,u=h+1,c=o,l=E,f=L,w=q,m=R,x=z}else{let O=P,I=_.tail,H=b.tail,D=jt(h,0,S([hr(O.content)]),M);t=H,e=T,n=I,i=A,r=k,s=v,a=C,u=h+1,c=o,l=E,f=L,w=d(D,q),m=R,x=z}}else{let N=P,U=_.tail,O=j,I=b.tail,H=Ne(h-v,N),D,F=le(z,E,h,O);D=ge(F,R,E,h,N);let V=D;t=I,e=T,n=U,i=A,r=k,s=v,a=C,u=h+1,c=o,l=E,f=d(H,L),w=q,m=R,x=V}}else{let P=_.head;if(P instanceof yn){let N=P,U=_.tail,O=j,I=b.tail,H=Me(R,N.mapper),D=ae(E,h,N.key),W=Yt(!1,D,H,z,O.attributes,N.attributes,M,M),F,V,ne;F=W.added,V=W.removed,ne=W.events;let Q;V instanceof y&&F instanceof y?Q=M:Q=S([Wt(F,V)]);let be=Q,Se;O.inner_html===N.inner_html?Se=be:Se=d(dr(N.inner_html),be);let ce=Se,ke;ce instanceof y?ke=q:ke=d(jt(h,0,ce,S([])),q);let Mt=ke;t=I,e=T,n=U,i=A,r=k,s=v,a=C,u=h+1,c=o,l=E,f=L,w=Mt,m=R,x=ne}else{let N=P,U=_.tail,O=j,I=b.tail,H=Ne(h-v,N),D,F=le(z,E,h,O);D=ge(F,R,E,h,N);let V=D;t=I,e=T,n=U,i=A,r=k,s=v,a=C,u=h+1,c=o,l=E,f=d(H,L),w=q,m=R,x=V}}}}}}function kr(t,e,n){return mt(S([e]),de(),S([n]),de(),de(),0,0,0,0,Vi,M,M,ue,$i(t))}const gr=globalThis.setTimeout,ht=globalThis.clearTimeout,xr=(t,e)=>we().createElementNS(t,e),yr=t=>we().createTextNode(t),or=()=>we().createDocumentFragment(),Le=(t,e,n)=>t.insertBefore(e,n),pt=Ni?(t,e,n)=>t.moveBefore(e,n):Le,vr=(t,e)=>t.removeChild(e),Er=(t,e)=>t.getAttribute(e),Gt=(t,e,n)=>t.setAttribute(e,n),Tr=(t,e)=>t.removeAttribute(e),Ar=(t,e,n,i)=>t.addEventListener(e,n,i),Kt=(t,e,n)=>t.removeEventListener(e,n),Sr=(t,e)=>t.innerHTML=e,Cr=(t,e)=>t.data=e,re=Symbol("lustre");class Nr{constructor(e,n,i,r){this.kind=e,this.key=r,this.parent=n,this.children=[],this.node=i,this.handlers=new Map,this.throttles=new Map,this.debouncers=new Map}get parentNode(){return this.kind===ie?this.node.parentNode:this.node}}const _e=(t,e,n,i,r)=>{const s=new Nr(t,e,n,r);return n[re]=s,e?.children.splice(i,0,s),s},Lr=t=>{let e="";for(let n=t[re];n.parent;n=n.parent)if(n.key)e=`${Ke}${n.key}${e}`;else{const i=n.parent.children.indexOf(n);e=`${Ke}${i}${e}`}return e.slice(1)};class qr{#e=null;#r=()=>{};#l=!1;#f=!1;constructor(e,n,{useServerEvents:i=!1,exposeKeys:r=!1}={}){this.#e=e,this.#r=n,this.#l=i,this.#f=r}mount(e){_e(Be,null,this.#e,0,null),this.#g(this.#e,null,this.#e[re],0,e)}push(e){this.#t.push({node:this.#e[re],patch:e}),this.#w()}#t=[];#w(){const e=this.#t;for(;e.length;){const{node:n,patch:i}=e.pop(),{children:r}=n,{changes:s,removed:a,children:u}=i;xe(s,c=>this.#s(n,c)),a&&this.#_(n,r.length-a,a),xe(u,c=>{const l=r[c.index|0];this.#t.push({node:l,patch:c})})}}#s(e,n){switch(n.kind){case Nn:this.#E(e,n);break;case Ln:this.#x(e,n);break;case qn:this.#m(e,n);break;case Dn:this.#a(e,n);break;case Mn:this.#i(e,n);break;case On:this.#d(e,n);break;case Rn:this.#h(e,n);break}}#h(e,{children:n,before:i}){const r=or(),s=this.#n(e,i);this.#k(r,null,e,i|0,n),Le(e.parentNode,r,s)}#d(e,{index:n,with:i}){this.#_(e,n|0,1);const r=this.#n(e,n);this.#g(e.parentNode,r,e,n|0,i)}#n(e,n){n=n|0;const{children:i}=e,r=i.length;if(n<r)return i[n].node;let s=i[r-1];if(!s&&e.kind!==ie)return null;for(s||(s=e);s.kind===ie&&s.children.length;)s=s.children[s.children.length-1];return s.node.nextSibling}#a(e,{key:n,before:i}){i=i|0;const{children:r,parentNode:s}=e,a=r[i].node;let u=r[i];for(let w=i+1;w<r.length;++w){const m=r[w];if(r[w]=u,u=m,m.key===n){r[i]=m;break}}const{kind:c,node:l,children:f}=u;pt(s,l,a),c===ie&&this.#u(s,f,a)}#u(e,n,i){for(let r=0;r<n.length;++r){const{kind:s,node:a,children:u}=n[r];pt(e,a,i),s===ie&&this.#u(e,u,i)}}#i(e,{index:n}){this.#_(e,n,1)}#_(e,n,i){const{children:r,parentNode:s}=e,a=r.splice(n,i);for(let u=0;u<a.length;++u){const{kind:c,node:l,children:f}=a[u];vr(s,l),this.#c(a[u]),c===ie&&a.push(...f)}}#c(e){const{debouncers:n,children:i}=e;for(const{timeout:r}of n.values())r&&ht(r);n.clear(),xe(i,r=>this.#c(r))}#m({node:e,handlers:n,throttles:i,debouncers:r},{added:s,removed:a}){xe(a,({name:u})=>{n.delete(u)?(Kt(e,u,dt),this.#b(i,u,0),this.#b(r,u,0)):(Tr(e,u),Xt[u]?.removed?.(e,u))}),xe(s,u=>this.#v(e,u))}#E({node:e},{content:n}){Cr(e,n??"")}#x({node:e},{inner_html:n}){Sr(e,n??"")}#k(e,n,i,r,s){xe(s,a=>this.#g(e,n,i,r++,a))}#g(e,n,i,r,s){switch(s.kind){case Be:{const a=this.#y(i,r,s);this.#k(a,null,a[re],0,s.children),Le(e,a,n);break}case et:{const a=this.#o(i,r,s);Le(e,a,n);break}case ie:{const a=this.#o(i,r,s);Le(e,a,n),this.#k(e,n,a[re],0,s.children);break}case Qi:{const a=this.#y(i,r,s);this.#x({node:a},s),Le(e,a,n);break}}}#y(e,n,{kind:i,key:r,tag:s,namespace:a,attributes:u}){const c=xr(a||an,s);return _e(i,e,c,n,r),this.#f&&r&&Gt(c,"data-lustre-key",r),xe(u,l=>this.#v(c,l)),c}#o(e,n,{kind:i,key:r,content:s}){const a=yr(s??"");return _e(i,e,a,n,r),a}#v(e,n){const{debouncers:i,handlers:r,throttles:s}=e[re],{kind:a,name:u,value:c,prevent_default:l,debounce:f,throttle:w}=n;switch(a){case fn:{const m=c??"";if(u==="virtual:defaultValue"){e.defaultValue=m;return}m!==Er(e,u)&&Gt(e,u,m),Xt[u]?.added?.(e,m);break}case Fi:e[u]=c;break;case hn:{r.has(u)&&Kt(e,u,dt);const m=l.kind===dn;Ar(e,u,dt,{passive:m}),this.#b(s,u,w),this.#b(i,u,f),r.set(u,x=>this.#T(n,x));break}}}#b(e,n,i){const r=e.get(n);if(i>0)r?r.delay=i:e.set(n,{delay:i});else if(r){const{timeout:s}=r;s&&ht(s),e.delete(n)}}#T(e,n){const{currentTarget:i,type:r}=n,{debouncers:s,throttles:a}=i[re],u=Lr(i),{prevent_default:c,stop_propagation:l,include:f,immediate:w}=e;c.kind===It&&n.preventDefault(),l.kind===It&&n.stopPropagation(),r==="submit"&&(n.detail??={},n.detail.formData=[...new FormData(n.target,n.submitter).entries()]);const m=this.#l?Dr(n,f??[]):n,x=a.get(r);if(x){const T=Date.now(),_=x.last||0;T>_+x.delay&&(x.last=T,x.lastEvent=n,this.#r(m,u,r,w))}const b=s.get(r);b&&(ht(b.timeout),b.timeout=gr(()=>{n!==a.get(r)?.lastEvent&&this.#r(m,u,r,w)},b.delay)),!x&&!b&&this.#r(m,u,r,w)}}const xe=(t,e)=>{if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else if(t)for(t;t.head;t=t.tail)e(t.head)},dt=t=>{const{currentTarget:e,type:n}=t;e[re].handlers.get(n)(t)},Dr=(t,e=[])=>{const n={};(t.type==="input"||t.type==="change")&&e.push("target.value"),t.type==="submit"&&e.push("detail.formData");for(const i of e){const r=i.split(".");for(let s=0,a=t,u=n;s<r.length;s++){if(s===r.length-1){u[r[s]]=a[r[s]];break}u=u[r[s]]??={},a=a[r[s]]}}return n},Qt=t=>({added(e){e[t]=!0},removed(e){e[t]=!1}}),Mr=t=>({added(e,n){e[t]=n}}),Xt={checked:Qt("checked"),selected:Qt("selected"),value:Mr("value"),autofocus:{added(t){queueMicrotask(()=>{t.focus?.()})}},autoplay:{added(t){try{t.play?.()}catch(e){console.error(e)}}}};function Or(t,e,n){for(;;){let i=t,r=e,s=n;if(i instanceof y)return[r,p(s)];{let a=i.tail,u=i.head[0],c=i.head[1],l=Gi(u,c),f;u===""?f=r:f=At(r,u,l);let w=f,m=d(l,s);t=a,e=w,n=m}}}function Ct(t){return Or(t,de(),M)}function In(t,e,n){let i=Ct(n),r,s;return r=i[0],s=i[1],St("",ue,"",t,e,s,r,!1)}function Rr(t,e,n,i){let r=Ct(i),s,a;return s=r[0],a=r[1],St("",ue,t,e,n,a,s,!1)}function Ir(t){let e=Ct(t),n,i;return n=e[0],i=e[1],Ki("",ue,i,n)}function Fr(t,e){return In("div",t,e)}const Hr=t=>{const e=_e(Be,null,t,0,null);let n=0;for(let a=t.firstChild;a;a=a.nextSibling)Fn(a)&&(n+=1);if(n===0){const a=we().createTextNode("");return _e(et,e,a,0,null),t.replaceChildren(a),Cn()}if(n===1)return bt(e,t).head[1];const i=we().createTextNode(""),r=_e(ie,e,i,0,null),s=bt(r,t);return t.insertBefore(i,t.firstChild),Ir(s)},Fn=t=>{switch(t.nodeType){case Et:return!0;case un:return!!t.data;default:return!1}},Br=(t,e,n,i)=>{if(!Fn(e))return null;switch(e.nodeType){case Et:{const r=_e(Be,t,e,i,n),s=e.localName,a=e.namespaceURI,u=!a||a===an;u&&Ur.includes(s)&&Pr(s,e);const c=jr(e),l=bt(r,e);return u?In(s,c,l):Rr(a,s,c,l)}case un:return _e(et,t,e,i,null),Sn(e.data);default:return null}},Ur=["input","select","textarea"],Pr=(t,e)=>{const n=e.value,i=e.checked;t==="input"&&e.type==="checkbox"&&!i||t==="input"&&e.type==="radio"&&!i||e.type!=="checkbox"&&e.type!=="radio"&&!n||queueMicrotask(()=>{e.value=n,e.checked=i,e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),we().activeElement!==e&&e.dispatchEvent(new Event("blur",{bubbles:!0}))})},bt=(t,e)=>{let n=null,i=e.firstChild,r=null,s=0;for(;i;){const a=i.nodeType===Et?i.getAttribute("data-lustre-key"):null;a!=null&&i.removeAttribute("data-lustre-key");const u=Br(t,i,a,s),c=i.nextSibling;if(u){const l=new Oe([a??"",u],null);r?r=r.tail=l:r=n=l,s+=1}else e.removeChild(i);i=c}return r?(r.tail=M,n):M},jr=t=>{let e=t.attributes.length,n=M;for(;e-- >0;){const i=t.attributes[e];i.name!=="xmlns"&&(n=new Oe(Wr(i),n))}return n},Wr=t=>{const e=t.localName,n=t.value;return Ze(e,n)},Hn=()=>!!we();class Vr{constructor(e,[n,i],r,s){this.root=e,this.#e=n,this.#r=r,this.#l=s,this.root.addEventListener("context-request",a=>{if(!(a.context&&a.callback)||!this.#s.has(a.context))return;a.stopImmediatePropagation();const u=this.#s.get(a.context);if(a.subscribe){const c=new WeakRef(a.callback),l=()=>{u.subscribers=u.subscribers.filter(f=>f!==c)};u.subscribers.push([c,l]),a.callback(u.value,l)}else a.callback(u.value)}),this.#w=new qr(this.root,(a,u,c)=>{const[l,f]=er(this.#t,u,c,a);if(this.#t=l,f.isOk()){const w=f[0];w.stop_propagation&&a.stopPropagation(),w.prevent_default&&a.preventDefault(),this.dispatch(w.message,!1)}}),this.#f=Hr(this.root),this.#t=Zi(),this.#i=!0,this.#c(i)}root=null;dispatch(e,n=!1){if(this.#i||=n,this.#h)this.#d.push(e);else{const[i,r]=this.#l(this.#e,e);this.#e=i,this.#c(r)}}emit(e,n){(this.root.host??this.root).dispatchEvent(new CustomEvent(e,{detail:n,bubbles:!0,composed:!0}))}provide(e,n){if(!this.#s.has(e))this.#s.set(e,{value:n,subscribers:[]});else{const i=this.#s.get(e);i.value=n;for(let r=i.subscribers.length-1;r>=0;r--){const[s,a]=i.subscribers[r],u=s.deref();if(!u){i.subscribers.splice(r,1);continue}u(n,a)}}}#e;#r;#l;#f;#t;#w;#s=new Map;#h=!1;#d=[];#n=M;#a=M;#u=null;#i=!1;#_={dispatch:(e,n)=>this.dispatch(e,n),emit:(e,n)=>this.emit(e,n),select:()=>{},root:()=>this.root,provide:(e,n)=>this.provide(e,n)};#c(e){for(this.#h=!0;;){for(let n=e.synchronous;n.tail;n=n.tail)n.head(this.#_);if(this.#n=Zt(this.#n,e.before_paint),this.#a=Zt(this.#a,e.after_paint),!this.#d.length)break;[this.#e,e]=this.#l(this.#e,this.#d.shift())}this.#h=!1,this.#i?(cancelAnimationFrame(this.#u),this.#m()):this.#u||(this.#u=requestAnimationFrame(()=>{this.#m()}))}#m(){this.#i=!1,this.#u=null;const e=this.#r(this.#e),{patch:n,events:i}=kr(this.#t,this.#f,e);if(this.#t=i,this.#f=e,this.#w.push(n),this.#n instanceof Oe){const r=Jt(this.#n);this.#n=M,queueMicrotask(()=>{this.#i=!0,this.#c(r)})}if(this.#a instanceof Oe){const r=Jt(this.#a);this.#a=M,requestAnimationFrame(()=>{this.#i=!0,this.#c(r)})}}}const zr=(t,e)=>{t.send(e)};function Jt(t){return{synchronous:t,after_paint:M,before_paint:M}}function Zt(t,e){return t instanceof y?e:e instanceof y?t:_i(t,e)}class Bn extends g{constructor(e){super(),this.message=e}}class Yr extends g{constructor(e,n){super(),this.name=e,this.data=n}}class pr extends g{constructor(e,n,i,r,s,a,u,c,l,f){super(),this.open_shadow_root=e,this.adopt_styles=n,this.delegates_focus=i,this.attributes=r,this.properties=s,this.contexts=a,this.is_form_associated=u,this.on_form_autofill=c,this.on_form_reset=l,this.on_form_restore=f}}function Gr(t){let e=new pr(!0,!0,!1,M,M,M,!1,ct,ct,ct);return he(t,e,(n,i)=>i.apply(n))}class Kr{#e;constructor(e,[n,i],r,s){this.#e=new Vr(e,[n,i],s,r)}send(e){switch(e.constructor){case Bn:{this.dispatch(e.message,!1);break}case Yr:{this.emit(e.name,e.data);break}}}dispatch(e,n){this.#e.dispatch(e,n)}emit(e,n){this.#e.emit(e,n)}}const Qr=({init:t,update:e,view:n},i,r)=>{if(!Hn())return new G(new Un);const s=i instanceof HTMLElement?i:we().querySelector(i);return s?new B(new Kr(s,t(r),e,n)):new G(new Jr(i))};class Xr extends g{constructor(e,n,i,r){super(),this.init=e,this.update=n,this.view=i,this.config=r}}class Jr extends g{constructor(e){super(),this.selector=e}}class Un extends g{}function Zr(t,e,n){return new Xr(t,e,n,Gr(M))}function $r(t){return new Bn(t)}function es(t,e,n){return Ai(!Hn(),new G(new Un),()=>Qr(t,e,n))}class ts extends g{constructor(e){super(),this[0]=e}}class ns extends g{constructor(e){super(),this[0]=e}}function is(t){return vi(t,e=>new ts(e))}function rs(t,e){return Ti(t,new ns(e))}function ss(t,e){window.setTimeout(e,t)}function Pn(t){return window.requestAnimationFrame(()=>{t()})}function nt(){return Date.now()}function $t(t){return typeof document>"u"?new G:new B(document.createElement(t))}function as(t){return t.attachShadow===void 0?new G:new B(t.attachShadow({mode:"open"}))}function en(t,e){return t.appendChild(e),new B(t)}function us(){return typeof document>"u"?new G:new B(document.body)}function cs(t){try{if(typeof CSSStyleSheet>"u")return new G;const e=new CSSStyleSheet;return e.replaceSync(ls),t.adoptedStyleSheets.push(e),new B(t)}catch{return new G}}const ls=`
@keyframes progress_bar {
  from { width: 100%; }
  to { width: 0%; }
}

:host {
  --info: #3498db;
  --success: #07bc0c;
  --warning: #f1c40f;
  --error: #e74c3c;
  --color-transparent: #ffffffb3;
  --light-transparent: #000000b3;
  --dark-transparent: #ffffffb3;
  --dark: #121212;
  --light: #fff;
}

.toast-wrapper {
  padding: 12px;
  position: fixed;
  z-index: 1000000;
}

.toast-wrapper-right {
  transition: right 0.7s;
}

.toast-wrapper-all {
  transition: right 0.7s, top 0.7s;
}

.toast {
  display: flex;
  flex-direction: column;
  width: var(--grille_pain-toast-width, 320px);
  min-height: var(--grille_pain-toast-min-height, 64px);
  max-height: var(--grille_pain-toast-max-height, 800px);
  border-radius: var(--grille_pain-toast-border-radius, 6px);
  box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  cursor: pointer;
}

.toast-content {
  display: flex;
  align-items: center;
  flex: 1;
  padding: 8px 16px;
  font-size: 14px;
}

.progress-bar {
  animation-timing-function: linear;
  animation-delay: 0s;
  animation-name: progress_bar;
  animation-fill-mode: forwards;
  height: 5px;
}
`;class it extends g{}class rt extends g{}class Nt extends g{}let Lt=class extends g{};function jn(t){return t instanceof it?"Standard":t instanceof rt?"Info":t instanceof Nt?"Warning":t instanceof Lt?"Error":"Success"}function kt(t,e){const[...n]=t.querySelectorAll(".grille_pain-toast");return n.reduce((r,s)=>{if(s.classList.contains("grille_pain-toast-will-hide")||parseInt(s.getAttribute("data-id"))>=e)return r;const u=s.getBoundingClientRect();return r+u.height-12},0)}function fs(){return crypto.randomUUID()}class je extends g{}class We extends g{}class hs extends g{}class Ae extends g{constructor(e,n,i,r,s,a,u,c,l,f,w,m){super(),this.external_id=e,this.id=n,this.sticky=i,this.message=r,this.displayed=s,this.running=a,this.remaining=u,this.last_schedule=c,this.iteration=l,this.bottom=f,this.level=w,this.animation_duration=m}}function ds(t){return t?"running":"paused"}function _s(t,e){return t.external_id===e}function ws(t,e){return t.id===e}function ms(t,e,n){return t.id===e&&t.iteration===n}function bs(t,e,n,i,r,s,a){return new Ae(t,e,s,n,new je,!1,r,nt(),0,kt(a,e),i,r)}class se extends g{constructor(e,n,i,r,s,a){super(),this.toasts=e,this.id=n,this.timeout=i,this.root=r,this.next_frame=s,this.to_show=a}}class ks extends g{constructor(e,n,i){super(),this.toast_id=e,this.timeout=n,this.sticky=i}}function gs(t,e){let n=S([]),i=0;return new se(n,i,e,t,new Re,S([]))}function xs(t,e,n,i,r,s){let a=xt(s,t.timeout),u=bs(e,t.id,n,i,a,r,t.root),c=d(u,t.toasts),l=t.id+1,f=d(new ks(u.id,s,r),t.to_show);return new se(c,l,t.timeout,t.root,t.next_frame,f)}function st(t,e,n){let i=ot(t.toasts,r=>e===r.id?n(r):r);return new se(i,t.id,t.timeout,t.root,t.next_frame,t.to_show)}function ys(t,e){return st(t,e,n=>{let i=nt();return new Ae(n.external_id,n.id,n.sticky,n.message,new We,!0,n.remaining,i,n.iteration,n.bottom,n.level,n.animation_duration)})}function os(t,e){return st(t,e,n=>new Ae(n.external_id,n.id,n.sticky,n.message,new hs,n.running,n.remaining,n.last_schedule,n.iteration,n.bottom,n.level,n.animation_duration))}function vs(t,e){return st(t,e,n=>{let r=nt()-n.last_schedule,s=n.remaining-r,a=n.iteration+1;return new Ae(n.external_id,n.id,n.sticky,n.message,n.displayed,!1,s,n.last_schedule,a,n.bottom,n.level,n.animation_duration)})}function Es(t,e){return st(t,e,n=>{let i=nt();return new Ae(n.external_id,n.id,n.sticky,n.message,n.displayed,!0,n.remaining,i,n.iteration,n.bottom,n.level,n.animation_duration)})}function Ts(t,e){let n=ci(t.toasts,i=>i.id!==e);return new se(n,t.id,t.timeout,t.root,t.next_frame,t.to_show)}function As(t){return new se(ot(t.toasts,e=>{let n=e.displayed;return n instanceof je?new Ae(e.external_id,e.id,e.sticky,e.message,e.displayed,e.running,e.remaining,e.last_schedule,e.iteration,kt(t.root,e.id),e.level,e.animation_duration):n instanceof We?new Ae(e.external_id,e.id,e.sticky,e.message,e.displayed,e.running,e.remaining,e.last_schedule,e.iteration,kt(t.root,e.id),e.level,e.animation_duration):e}),t.id,t.timeout,t.root,t.next_frame,t.to_show)}class Wn extends g{}class Vn extends g{}class qt extends g{constructor(e){super(),this[0]=e}}class tn extends g{constructor(e){super(),this.id=e}}class Qe extends g{constructor(e,n){super(),this.id=e,this.iteration=n}}class zn extends g{constructor(e,n,i,r,s){super(),this.uuid=e,this.message=n,this.level=i,this.timeout=r,this.sticky=s}}class Yn extends g{constructor(e){super(),this.id=e}}class Ss extends g{constructor(e){super(),this.uuid=e}}class Cs extends g{constructor(e){super(),this.id=e}}let Xe=null;function Ns(t){if(Xe!==null)throw new Error("You should not instanciate two grille_pain instance");return Xe=t,t}function Ls(t){if(Xe===null)throw new Error("You should instanciate grille_pain");return t(Xe)}function pn(t,e){return $e(n=>ss(t,()=>n(e)))}function qs(){return ye($t("grille-pain"),t=>ye($t("div"),e=>{let n=e;return ye(as(t),i=>ye(en(i,e),r=>ye(cs(r),s=>ye(us(),a=>(en(a,t),new B([n,s]))))))}))}function Ds(){let t=qs();return rs(t,"Impossible to mount grille_pain.")}function Ms(t){return t==="input"||t==="change"||t==="focus"||t==="focusin"||t==="focusout"||t==="blur"?!0:t==="select"}function Dt(t,e){return Hi(t,sn(e,n=>new ln(!1,!1,n)),M,Rt,Rt,Ms(t),0,0)}function Os(t){return Dt("click",yt(t))}function Rs(t){return Dt("mouseenter",yt(t))}function Is(t){return Dt("mouseleave",yt(t))}function Ue(t,e){return"var(--"+t+", "+e+")"}function Gn(){return matchMedia("(prefers-color-scheme: dark)").matches}const Fs="var(--info)",Hs="var(--success)",Bs="var(--warning)",Us="var(--error)",Ye="var(--color-transparent)",Ps="var(--light-transparent)",js="var(--dark-transparent)",nn="var(--dark)",De="var(--light)";function Ws(){return Gn()?[nn,De]:[De,nn]}function Vs(t){return t instanceof it?Ws():t instanceof rt?[Fs,De]:t instanceof Nt?[Bs,De]:t instanceof Lt?[Us,De]:[Hs,De]}function zs(t){return t instanceof it?Gn()?js:Ps:(t instanceof rt||t instanceof Nt||t instanceof Lt,Ye)}function Ys(t){let e=zs(t),i="grille_pain-"+jn(t)+"-progress-bar";return Ue(i,e)}function ps(t){let e=Ie(t.animation_duration),n=ds(t.running);return tt(S([ee("progress-bar"),oe("animation-duration",e+"ms"),oe("background",Ys(t.level)),oe("animation-play-state",n)]),S([]))}function Gs(t){return vt(t.sticky,Bi,()=>Os(new Qe(t.id,t.iteration)))}function Ks(t){return vt(t.sticky,Cn,()=>ps(t))}function Qs(t){let e=t.displayed;return e instanceof je?"toast-wrapper-right":(e instanceof We,"toast-wrapper-all")}function Xs(t){let e=t.displayed;return e instanceof je?"calc(-1 * "+Ue("grille_pain-width","320px")+" - 100px)":e instanceof We?"0px":"calc(-1 * "+Ue("grille_pain-width","320px")+" - 100px)"}function Js(t,e,n){return tt(d(ee("toast-wrapper"),d(ee(Qs(t)),d(oe("right",Xs(t)),d(oe("top",Ie(t.bottom)+"px"),e)))),n)}function Zs(t){let e,n=t.displayed;n instanceof je?e="will-show":n instanceof We?e="show":e="will-hide";let i=e;return Ui(S([["grille_pain-toast",!0],["grille_pain-toast-"+Ie(t.id),!0],["grille_pain-toast-"+i,!0]]))}function $s(t){let e=Vs(t),n,i;n=e[0],i=e[1];let r=jn(t),s="grille_pain-"+r+"-background",a="grille_pain-"+r+"-text-color",u=oe("background",Ue(s,n)),c=oe("color",Ue(a,i));return S([u,c])}function ea(t,e){let n=Rs(new Yn(t.id)),i=Is(new Cs(t.id)),r=$s(t.level),s=ee("toast");return tt(d(n,d(i,d(s,r))),e)}function ta(t,e){return tt(d(ee("toast-content"),t),e)}function na(t){let e=Gs(t),n=Ze("data-id",Ie(t.id));return Js(t,S([Zs(t),n]),S([ea(t,S([ta(S([e]),S([ir(t.message)])),Ks(t)]))]))}function ia(t){let e=t.toasts;return Fr(S([ee("grille-pain")]),ot(e,n=>[Ie(n.id),na(n)]))}let Kn=class extends g{constructor(e){super(),this.timeout=e}};function ra(){return new Kn(5e3)}function sa(t,e){return new Kn(e)}function Qn(t,e,n,i){return vt(t,J,()=>pn(e,new Qe(n,i)))}function aa(t,e,n,i){let r=xt(n,t.timeout),s=ys(t,e),a=Qn(i,r,e,0);return[s,a]}function pe(t){return t.next_frame instanceof Pe?J():$e(n=>n(new qt(Pn(()=>n(new Wn)))))}function ua(t){return t.next_frame instanceof Pe?J():$e(n=>n(new qt(Pn(()=>n(new Vn)))))}function ca(t,e){if(e instanceof Wn){let n=new se(t.toasts,t.id,t.timeout,t.root,new Re,t.to_show),i=As(n);return[i,ua(i)]}else if(e instanceof Vn){let n=new se(t.toasts,t.id,t.timeout,t.root,new Re,t.to_show),i=n.to_show;if(i instanceof y)return[n,J()];{let r=i,s=new se(n.toasts,n.id,n.timeout,n.root,n.next_frame,S([])),a=[s,pe(s)];return(u=>he(r,u,(c,l)=>{let f,w,m;f=l.toast_id,w=l.timeout,m=l.sticky;let x,b;x=c[0],b=c[1];let T=aa(x,f,w,m),_,A;return _=T[0],A=T[1],[_,Ft(S([b,A]))]}))(a)}}else if(e instanceof qt){let n=e[0],i=new Pe(n);return[new se(t.toasts,t.id,t.timeout,t.root,i,t.to_show),J()]}else if(e instanceof tn){let n=e.id,i=Ts(t,n),r=pe(i);return[i,r]}else if(e instanceof Qe){let n=e.id,i=e.iteration,r=ut(t.toasts,s=>ms(s,n,i));if(r instanceof B){let s=r[0],a=os(t,s.id),u=pn(1e3,new tn(n)),c=pe(a);return[a,Ft(S([u,c]))]}else return[t,J()]}else if(e instanceof zn){let n=e.uuid,i=e.message,r=e.level,s=e.timeout,a=e.sticky,u=xs(t,n,i,r,a,s);return Si(u,pe(t))}else if(e instanceof Yn){let n=e.id;return[vs(t,n),J()]}else if(e instanceof Ss){let n=e.uuid,i=ut(t.toasts,r=>_s(r,n));if(i instanceof B){let r=i[0];return[t,$e(s=>s(new Qe(r.id,r.iteration)))]}else return[t,J()]}else{let n=e.id,i=ut(t.toasts,r=>ws(r,n));if(i instanceof B){let r=i[0].sticky,s=i[0].remaining,a=i[0].iteration;return[Es(t,n),Qn(r,s,n,a)]}else return[t,J()]}}function la(t){return ye(Ds(),e=>{let n,i;return n=e[0],i=e[1],oi((()=>{let s=Zr(u=>[gs(i,t.timeout),J()],ca,ia),a=es(s,n,void 0);return is(a)})(),r=>Ns(r))})}class Xn extends g{constructor(e,n,i){super(),this.timeout=e,this.level=n,this.sticky=i}}function fa(){return new Xn(new Re,new Re,!1)}function ha(t,e){return new Xn(t.timeout,new Pe(e),t.sticky)}function da(t,e){return Ci(fs(),n=>Ls(i=>{let r,s,a;r=t.timeout,s=t.level,a=t.sticky;let u=xt(s,new it),c=new zn(n,e,u,r,a),l=$r(c);return(f=>zr(i,f))(l)}))}function _a(t){let e=fa(),n=ha(e,new rt);return da(n,t)}async function wa(t){try{return new B(await globalThis.navigator.clipboard.writeText(t))}catch(e){return new G(e.toString())}}function ma(t){return Array.from(document.querySelectorAll(t))}function ba(t,e){let n=t.getAttribute(e);return n?new B(n):new G}function ka(t,e,n){return t.addEventListener(e,n)}const ga="src/components/clipboard.gleam";function xa(){let t,e=ma("[copy_button]");t=ti(e);let n=t,i,r=ra(),s=sa(r,2e3);i=la(s);let a=i;if(!(a instanceof B))throw $n("let_assert",ga,"components/clipboard",16,"main","Pattern match failed, no pattern matched the value.",{value:a,start:341,end:429,pattern_start:352,pattern_end:357});return hi(n,(u,c)=>{let l,f=ba(u,"data-copy");l=Ei(f,"");let w=l;return ka(u,"click",m=>{wa(w),_a("Copied!")})})}document.addEventListener("DOMContentLoaded",()=>{xa()});
